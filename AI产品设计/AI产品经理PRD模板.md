# 🤖 AI 产品 PRD（模板）

## 0. 📌 文档信息
- PRD 名称：
- 版本：
- 负责人（DRI）：
- 评审人（PM / Design / Eng / ML / Data / Sec / Legal / Ops）：
- 里程碑：需求冻结 / 联调 / 内测 / 灰度 / GA
- 相关链接：
  - 设计稿：
  - 技术方案：
  - 埋点文档：
  - 评测集：
  - 实验看板：
  - 事故预案：

---

## 1. 🎯 背景与目标（Why）
### 1.1 背景问题
- 现状流程/痛点（尽量量化：耗时、失败率、转化损失、人工成本）：
- 机会来源：用户调研 / 数据洞察 / 竞品 / 战略

### 1.2 目标（可验收）
- 北极星目标（1 个）：
  - 指标定义/公式：
  - 目标值：
  - 统计口径与频率：
- 业务目标：转化 / 留存 / 增收 / 降本
- 体验目标：满意度 / 减少步骤 / 降低学习成本

### 1.3 非目标（不做什么）
- 不覆盖的场景：
- 暂不支持的能力/格式/语言：
- 其它边界说明：

---

## 2. 👥 用户与场景（Who / When）
- 目标用户画像（核心 / 次要 / 排除）：
- Top 场景（3–5 个）：
  - 场景 1：触发条件 → 用户意图 → 成功输出
  - 场景 2：
  - 场景 3：
- 关键路径：首次使用 / 高频复用 / 专业用户工作流
- 关键约束：合规、品牌、行业规范、版权等

---

## 3. 🧩 方案概述（What）
### 3.1 产品形态
- 形态（勾选）：Copilot / Autopilot / 推荐 / Agent / RAG / 多模态
- 入口：出现位置、触发条件、默认开关、权限条件
- 输出：文本 / 图像 / 结构化字段 / 可执行动作 / 文件等

### 3.2 核心用户旅程（建议配一张流程图）
- 输入 → 理解 → 生成/检索 → 校验 → 呈现 → 采纳/编辑 → 反馈

---

## 4. 🧑‍🎨 需求范围与交互设计（UX）
### 4.1 功能列表（MoSCoW）
- **Must**：
- **Should**：
- **Could**：
- **Won’t**：

> 每个功能建议补充：用户价值 / 触发 / 输入 / 输出 / 边界

### 4.2 关键交互（必填）
- 入口与引导：提示示例、模板、推荐问题、空状态
- Prompt 形态：自由输入 / 模板提示 / 引导式提问
- 约束控制：语气 / 长度 / 受众 / 格式 / 结构化输出开关
- 结果呈现：引用来源、置信度/不确定性表达、版本对比
- 编辑能力：局部修改、重写、撤销、一键复原、历史记录
- 反馈闭环：点赞/踩、原因标签、采纳/编辑信号回流

### 4.3 ❗ 错误处理与降级（必填）
- 信息不足：如何追问、如何引导补充
- 模型失败/超时：重试策略、提示文案
- 工具失败：降级策略（规则/搜索/旧模型/人工）
- 兜底输出：给“可执行替代方案”（不要虚构）

---

## 5. 🧠 AI 能力与系统设计（How）
> PM 不必写实现细节，但要写清楚产品决策参数与约束。

### 5.1 任务类型与能力边界
- 任务类型：生成 / 改写 / 总结 / 抽取 / 分类 / 推荐 / 规划执行
- 不允许/限制的内容或行为（按产品定）：
- 是否需要人工确认（HITL）：哪些环节必须确认？

### 5.2 📚 数据与知识（RAG/检索/上下文）
- 数据源清单：用户内容 / 内部知识库 / 第三方
- 权限：是否严格遵循原权限（必须）/ 租户隔离策略
- 更新频率：实时 / 日更 / 周更
- 引用策略：强制引用 / 可选引用 / 不支持引用
- 上下文策略：带入字段、最大窗口、裁剪规则

### 5.3 🧪 模型与策略（选型要点）
- 模型配置：主模型 / 备份模型 / 小模型（路由条件）
- Prompt 策略：系统提示、工具提示、模板变量（版本号）
- 工具调用：白名单、参数校验、最大步数、超时策略
- 成本策略：token 上限、缓存、批处理、流式输出

### 5.4 🔭 观测与日志（必填）
- 记录范围：输入、检索文档ID、输出、工具调用、最终采纳
- 脱敏策略：PII/敏感字段落盘规则
- 可追溯：trace id / request id / 版本号（模型、prompt、检索）

---

## 6. 📈 指标体系（Metrics）✅（必填）
### 6.1 北极星指标（1 个）
- 指标名称：
- 定义公式：
- 统计口径（分母/分子）：
- 目标值：
- 监控频率：

### 6.2 漏斗指标（建议按链路）
- 曝光率 → 触发率 → 生成成功率 → 采纳率 → 编辑率 → 完成率 → 留存
- 每个指标填写：
  - 定义：
  - 埋点事件：
  - 分桶维度：新老用户 / 场景 / 语言 / 模型版本 / 权限等

### 6.3 质量指标（AI 特有）
- 幻觉率（Hallucination）：
- 引用正确率：
- 事实一致性：
- 相关性（Relevance）：
- 格式合规率：
- 拒答合理率：
- 安全：违规输出率、PII 泄露率、越权调用率

### 6.4 ⚡ 性能与成本（P0 护栏）
- 延迟：P50 / P95 / 超时率
- 稳定性：错误率、工具失败率、重试成功率
- 成本：平均 token、单次调用成本、单位成功任务成本（CPS：Cost per successful task）

---

## 7. 🧾 评测与验收（Evaluation）✅（必填）
### 7.1 离线评测（上线前门槛）
- 评测集构成：场景覆盖、难例、长尾、对抗样本
- 评测维度与阈值：准确 / 相关 / 安全 / 格式 / 引用
- 自动化回归：每次发布必须跑；对比基线（上一版本/旧模型）

### 7.2 人工评测（专家/众包）
- 标注指南（Rubric）：
- 复标比例与一致性要求（Kappa/一致率）：
- 抽检策略：高风险场景、投诉场景、长尾样本

### 7.3 线上实验（A/B）
- 实验假设：
- 主要指标：
- 护栏指标（安全/延迟/成本/投诉）：
- 分流策略与样本量（数据同学补充）：
- 停止条件：显著正向 / 护栏触发即停

### 7.4 ✅ 验收清单（Go / No-Go）
- 质量阈值达标：
- 灰度期间护栏指标稳定：
- 监控告警就绪：
- 回滚/降级开关可用：
- 风险预案完成并演练：

---

## 8. 🚦 灰度与发布计划（Rollout）✅（必填）
### 8.1 灰度策略
- 分层：内部 Dogfood → 小流量（1%）→ 分群 → 逐步放量 → GA
- 分群维度：新用户/老用户、特定场景、特定区域/语言、权限人群
- 开关：功能开关 / 模型开关 / 策略开关 / 一键降级
- 版本管理：模型版本、prompt版本、检索策略版本

### 8.2 📟 监控看板 & 值班
- 核心看板：成功率、幻觉率、违规率、P95、成本、投诉
- 告警阈值：
- 值班机制：负责人、响应时限、升级路径

### 8.3 🔙 回滚与降级
- 触发条件：护栏超阈值 / 事故 / 成本异常 / 延迟异常
- 回滚路径：切旧模型 / 关工具调用 / 关检索 / 关入口
- 事后复盘：分桶归因（模型/检索/工具/提示词/数据）

---

## 9. 🛡️ 风险清单与对策（Risks）✅（必填）
> 建议结构：风险 — 影响 — 概率 — 检测 — 缓解 — Owner

### 9.1 质量风险
- 幻觉、错误引用、不相关、格式错、拒答过度

### 9.2 安全与隐私
- PII 泄露、跨租户访问、提示注入/越权、日志合规

### 9.3 合规与版权
- 侵权生成、商用授权不清晰、行业监管要求

### 9.4 业务与体验
- 误导导致用户损失、信任崩塌、投诉与舆情
- 成本失控、延迟过高导致弃用

### 9.5 常见对策库（可按需勾选）
- 内容过滤/分类器、引用强制、工具白名单、权限校验
- 置信度策略、敏感场景强制人工确认（HITL）
- 审计日志、红队测试、事故演练、Kill Switch

---

## 10. 🧷 埋点与数据需求（Data Plan）
- 事件字典：曝光/触发/输入/生成/采纳/编辑/反馈/举报
- 字段：场景、模型版本、检索命中文档、token、延迟、错误码
- 数据权限与脱敏：不落盘字段、仅聚合字段、留存周期

---

## 11. 🔗 依赖与资源
- 依赖系统：检索/向量库/权限/内容安全/网关/缓存/观测
- 人力资源：前端/后端/ML/数据/安全/法务/客服/运营
- 外部依赖：第三方模型 SLA、配额、地区可用性

---

## 12. 🗓️ 里程碑计划
- T0 需求冻结：
- T1 MVP：
- T2 内测：
- T3 灰度：
- T4 GA：
- 每个里程碑交付物：评测集、看板、开关、预案、文案、回滚演练记录

---

## 13. 📎 附录
- Prompt 模板（版本化）：
- 评测集样例（含难例/对抗例）：
- 文案规范（拒答/提示/免责声明）：
- FAQ（用户/客服/法务）：
